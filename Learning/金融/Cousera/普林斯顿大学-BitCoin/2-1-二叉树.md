# 完全二叉树的性质
1. 在一棵完全二叉树中,如果有 n 个叶子节点,那么整棵树一共有 2n-1 个节点。
	 - $n+ \frac{n}{2}+\frac{n}{2^{2}}+\cdots+ \frac{n}{2^{b}}$, 其中 $\frac{n}{2^{b}}=1$ (根节点), 最后算出来为 $2n-1$
2. 在一棵完全二叉树中,从根节点到任意一个叶子节点的路径长度都是 log2(2n-1)。
     - 
3. 当 n 很大时，log2(2n-1) 约等于 log2(n)。
4. 所以在一棵完全二叉树中,从根节点到任意一个叶子节点的路径长度是 O(log n)。
5. 对于一般的二叉树,虽然节点数可能不是 2n-1 个,但只要是二叉树,从根节点到任意一个叶子节点的路径长度也一定是 O(log n)。
## 证明
### **第一步：证明完全二叉树的节点数是 2n−12n - 1**
**定义：**
- 一棵**完全二叉树**（Full Binary Tree）是指 **每个内部节点都有两个子节点**。
- **叶子节点（Leaf nodes）** 是指没有子节点的节点。
**推导：**  
		设树中有 **nn 个叶子节点**，我们记： 
- **II** 为内部节点数（非叶子节点）。
- **L=nL = n** 为叶子节点数。
- **NN** 为整个树的总节点数，即 N=I+LN = I + L。
由于每个内部节点都有**两个子节点**，整棵树的子节点总数等于 2I2I。  
但在一棵二叉树中，每个节点（除了根节点）都会被某个内部节点指向一次，因此整个树的节点总数 NN 满足：
N−1=2IN - 1 = 2I
（即所有节点除了根节点都有一个父节点，内部节点有 2I2I 个孩子。）
把 N=I+LN = I + L 代入：
I+L−1=2II + L - 1 = 2I L−1=IL - 1 = I I=n−1I = n - 1 N=I+L=(n−1)+n=2n−1N = I + L = (n - 1) + n = 2n - 1
所以**整棵树的总节点数是 2n−12n - 1。✅**
### **第二步：路径长度为 log⁡2(2n−1)\log_2(2n-1)**
一棵**完全二叉树**的高度 hh 由以下递推关系给出：
最大节点数=2h+1−1\text{最大节点数} = 2^{h+1} - 1
设树有 2n−12n - 1 个节点：
2n−1=2h+1−12n - 1 = 2^{h+1} - 1
解得：
h+1=log⁡2(2n)h + 1 = \log_2(2n) h=log⁡2(2n)−1h = \log_2(2n) - 1
路径长度即为树的高度：
h=log⁡2(2n−1)h = \log_2(2n - 1)
### **第三步：当 nn 很大时，log⁡2(2n−1)≈log⁡2(n)\log_2(2n - 1) \approx \log_2(n)**
log⁡2(2n−1)=log⁡2(2)+log⁡2(n−12)\log_2(2n - 1) = \log_2(2) + \log_2(n - \frac{1}{2}) =1+log⁡2(n−12)= 1 + \log_2(n - \frac{1}{2})
当 nn 很大时，n−12≈nn - \frac{1}{2} \approx n，所以：
log⁡2(n−12)≈log⁡2(n)\log_2(n - \frac{1}{2}) \approx \log_2(n) log⁡2(2n−1)≈log⁡2(n)\log_2(2n - 1) \approx \log_2(n)
这说明**路径长度近似 log⁡2(n)\log_2(n)，即 O(log⁡n)O(\log n)。✅**
### **第四步：一般二叉树的路径长度也是 O(log⁡n)O(\log n)**
对于任意一棵**二叉树**：
- 若是一棵**平衡的二叉树**（如 AVL 树、红黑树等），其高度为 O(log⁡n)O(\log n)。
- 即使是一棵**非严格平衡的二叉树**，其路径长度一般不会超过 O(log⁡n)O(\log n)，否则就会变得极度不平衡（退化成链表），这种情况在一般应用中较少。
因此，从**根节点到叶子节点的路径长度仍然是 O(log⁡n)O(\log n)**。✅
---
### **总结**
1. **完全二叉树的节点数** 满足公式：N=2n−1N = 2n - 1。
2. **路径长度为** log⁡2(2n−1)\log_2(2n - 1)。
3. **当 nn 很大时，路径长度近似 O(log⁡n)O(\log n)**。
4. **一般二叉树的路径长度通常也是 O(log⁡n)O(\log n)**。