# ECDSA
$R=kG,s=\frac{message+xr}{k}$​
$r$是$R$的横坐标
验证时,计算$\frac1s=\frac{k}{message+xr}$
计算$\frac{k}{message+xr}*message*G+\frac{k}{message+xr}*r*xG$
上面这一行等于 $R$ 就通过
## 对称性
>在模 pp 之后，椭圆曲线仍然沿 **$x$-轴对称**，因为在有限域$\mathbb{F}$ 中，数的加法逆元满足**模运算规则**，使得 $y$ 和 $p−y$成为对称点。让我们详细拆解这个问题。


### **1. 为什么模 pp 之后 yy 和 p−yp - y 仍然对称？**

在有限域 $\mathbb{F}_p$ 上，椭圆曲线的方程：

$$y^2 \equiv x^3 + ax + b \mod p$$

可以简写为：

$$y^2 \equiv f(x) \mod p$$

这表示对于某个固定的 x，y^2 计算出来后，它的平方根 y 满足该等式。

#### **(1) 负数在模 pp 里的表示**

在实数域 R\mathbb{R} 中，负数的定义很直观，例如 −y-y 就是 yy 的对称点。 但是在模 pp 的世界里，负数的定义是：

$$y \equiv p - y \mod p$$

因为：

$$y + (p - y) \equiv 0 \mod p$$

即，p−yp - y 在模 pp 下扮演了“负 yy”的角色。

#### **(2) 证明 $$y^2 \equiv (p - y)^2 \mod p$$**

由于平方运算不会影响正负，我们有：

$$(-y)^2 = y^2$$

在模 pp 下：

(p−y)2≡y2mod  p(p - y)^2 \equiv y^2 \mod p

展开来看：

(p−y)(p−y)=p2−2py+y2(p - y) (p - y) = p^2 - 2py + y^2

由于 p2p^2 是 pp 的倍数，满足 p2≡0mod  pp^2 \equiv 0 \mod p，并且 −2py-2py 也是 pp 的倍数，满足 −2py≡0mod  p-2py \equiv 0 \mod p，所以：

(p−y)2≡y2mod  p(p - y)^2 \equiv y^2 \mod p

这说明如果 y2≡f(x)mod  py^2 \equiv f(x) \mod p 有解 yy，那么 p−yp - y 也满足该方程。

因此，**在模 pp 之后，(x,y)(x, y) 和 (x,p−y)(x, p - y) 总是对称的**。

---

### **2. 直观理解**

在实数域中，我们可以把“对称”理解为关于 xx-轴的镜像。 但在模 pp 里，我们不再有“负数”的概念，而是用“模 pp 的补数”来表示负数。例如：

- 在 p=7p = 7 里：
    
    - −2≡7−2=5mod  7-2 \equiv 7 - 2 = 5 \mod 7
        
    - −4≡7−4=3mod  7-4 \equiv 7 - 4 = 3 \mod 7
        

如果我们画出$\mathbb{F}_7$ 上的椭圆曲线：

- (x,2)(x, 2) 的对称点是 (x,5)(x, 5)，因为 5≡−2mod  75 \equiv -2 \mod 7。
    
- (x,4)(x, 4) 的对称点是 (x,3)(x, 3)，因为 3≡−4mod  73 \equiv -4 \mod 7。
    

所以，每个 yy 都有一个对称的 p−yp - y，形成沿 xx-轴的对称关系。

---

### **3. 结论**

✅ **模 pp 之后，点 (x,y)(x, y) 的对称点是 (x,p−y)(x, p - y)**，因为：

(p−y)2≡y2mod  p(p - y)^2 \equiv y^2 \mod p

✅ **“负数”在模 pp 里是 p−yp - y，这导致椭圆曲线在有限域上仍然对称**。  
✅ **在可视化上，有限域中的椭圆曲线仍然像实数域一样是关于 xx-轴对称的，但点是离散的**。

这下清楚了吗？😊
# Shn
$R=kG,s=k+H(kG|xG|message)$
$R$由$k$得到,$s$由$k,message$得到
注意$R=sG-H(kG|xG|message)G$
验证时给了$R$和$s$,自己只要计算$H(kG|xG|message)G$