# 键盘输入变量
是否记得某些程序执行的过程当中，会等待使用者输入 "yes/no" 之类的讯息？所以用户能够通过键盘设定变量
- `read var`：`read` 指定一个变量名 `var`
```shell
[dmtsai@study ~]$ read [-pt] variable
选项与参数：
-p ：后面可以接提示字符！
-t ：后面可以接等待的『秒数！』这个比较有趣～不会一直等待使用者啦！

范例一：让用户由键盘输入一内容，将该内容变成名为 atest 的变量
[dmtsai@study ~]$ read atest
This is a test <==此时光标会等待你输入！请输入左侧文字看看
[dmtsai@study ~]$ echo ${atest}
This is a test <==你刚刚输入的数据已经变成一个变量内容！

范例二：提示使用者 30 秒内输入自己的大名，将该输入字符串作为名为 named 的变量内容
[dmtsai@study ~]$ read -p "Please keyin your name: " -t 30 named
Please keyin your name: VBird Tsai <==注意看，会有提示字符喔！
[dmtsai@study ~]$ echo ${named}
VBird Tsai <==输入的数据又变成一个变量的内容了！
```
# 宣告变量
`declare` 或 `typeset`：宣告变量的类型
单独输入 `declare` 和使用 `set` 的效果一样
```shell
[dmtsai@study ~]$ declare [-aixr] variable
选项与参数：
-a ：将后面名为 variable 的变量定义成为数组 (array) 类型
-i ：将后面名为 variable 的变量定义成为整数数字 (integer) 类型
-x ：用法与 export 一样，就是将后面的 variable 变成环境变量；
-r ：将变量设定成为 readonly 类型，该变量不可被更改内容，也不能 unset，如果你不小心将变量设定为『只读』，通常得要注销再登入才能复原该变量的类型

范例一：让变量 sum 进行 100+300+50 的加总结果
[dmtsai@study ~]$ sum=100+300+50
[dmtsai@study ~]$ echo ${sum}
100+300+50 <==咦！怎么没有帮我计算加总？因为这是文字型态的变量属性啊！
[dmtsai@study ~]$ declare -i sum=100+300+50
[dmtsai@study ~]$ echo ${sum}
450 <==瞭乎？？
```

在默认的情况底下， bash 对于变量有几个基本的定义：

- **变量类型默认为『字符串』**，所以若不指定变量类型，则 1+2 为一个『字符串』而不是『计算式』。所以上述第一个执行的结果才会出现那个情况的；
- bash 环境中的数值运算，**预设最多仅能到达整数形态**，所以 1/3 结果是 0；
## `declare` 的其它功能
```shell
范例二：将 sum 变成环境变量
[dmtsai@study ~]$ declare -x sum
[dmtsai@study ~]$ export | grep sum
declare -ix sum="450" <==果然出现了！包括有 i 与 x 的宣告！

范例三：让 sum 变成只读属性，不可更动！
[dmtsai@study ~]$ declare -r sum
[dmtsai@study ~]$ sum=tesgting
-bash: sum: readonly variable <==老天爷～不能改这个变数了！

范例四：让 sum 变成非环境变量的自定义变量吧！
[dmtsai@study ~]$ declare +x sum <== 将 - 变成 + 可以进行『取消』动作
[dmtsai@study ~]$ declare -p sum <== -p 可以单独列出变量的类型
declare -ir sum="450" <== 看吧！只剩下 i, r 的类型，不具有 x 啰！
declare 也是个很有用的功能～尤其是当我们需要使用到底下的数组功能
```
`export` 显示的环境变量全都有一个 `declare -x` 的声明，而 `env` 显示的没有这个声明
# 数组
数组的设定方式是 `var[index]=content`
```shell
范例：设定上面提到的 var[1] ～ var[3] 的变数。
[dmtsai@study ~]$ var[1]="small min"
[dmtsai@study ~]$ var[2]="big min"
[dmtsai@study ~]$ var[3]="nice min"
[dmtsai@study ~]$ echo "${var[1]}, ${var[2]}, ${var[3]}"
small min, big min, nice min

```
我已经设定了 `sum=300` ，我再输入 `sum[1]=100` 后，`sum` 就变为了 `sum=([0]="300" [1]="100")`
数组的读取要用 `${var[]}`，如下
![[Pasted image 20241010235631.png]]
