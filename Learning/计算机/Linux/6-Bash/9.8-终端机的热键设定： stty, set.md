# `stty`
可以在 tty1 ~ tty6 这六个文字接口的终端机 (terminal) 环境中登入，登入的时候我们可以取得一些字符设定的功能，那么如何查阅目前的一些按键内容呢？可以利用 `stty` (setting tty 终端机的意思) ， stty 也可以设定终端机的输入按键代表意义。
```shell
[dmtsai@study ~]$ stty [-a]
选项与参数：
-a ：将目前所有的 stty 参数列出来；
范例一：列出所有的按键与按键内容
[dmtsai@study ~]$ stty -a
speed 38400 baud; rows 20; columns 90; line = 0;
intr = ^C; quit = ^\; erase = ^?; kill = ^U; eof = ^D; eol = <undef>; eol2 = <undef>;
swtch = <undef>; start = ^Q; stop = ^S; susp = ^Z; rprnt = ^R; werase = ^W; lnext = ^V;
flush = ^O; min = 1; time = 0;
….(以下省略)….
```
我们可以利用 `stty -a` 来列出目前环境中所有的按键列表，在上头的列表当中，需要注意的是特殊字体那几个，此外，如果出现 `^` 表示 `[Ctrl]` 那个按键的意思。举例来说， `intr = ^C` 表示利用 `[ctrl] +c` 来达成的。几个重要的代表意义是：
- intr : 送出一个 interrupt (中断) 的讯号给目前正在 run 的程序 (就是终止啰！)；
- quit : 送出一个 quit 的讯号给目前正在 run 的程序；
- erase : 向后删除字符，
- kill : 删除在目前指令列上的所有文字；
- eof : End of file 的意思，代表『结束输入』。
- start : 在某个程序停止后，重新启动他的 output
- stop : 停止目前屏幕的输出；
- susp : 送出一个 terminal stop 的讯号给正在 run 的程序
我们在第四章讲过几个 Linux 热键,就是这个 stty 设定值内的 ` intr([ctrl]+c) /eof([ctrl]+d)` ,删除字符就是 `erase` 那个设定值
如果你想要用 `[ctrl]+h` 来进行字符的删除，那么可以下达：
```shell
[dmtsai@study ~]$ stty erase ^h # 这个设定看看就好，不必真的实做！不然还要改回来！
[dmtsai@study ~]$ stty erase ^? # 恢复设定
```

- ? 问：因为鸟哥的工作经常在 Windows/Linux 之间切换，在 windows 底下，很多软件默认的储存快捷按钮是 [crtl]+s ，所以鸟哥习惯按这个按钮来处理。不过，在 Linux 底下使用 vim 时，却也经常不小心就按下 [crtl]+s ！问题来了，按下这个组合钮之后，整个 vim 就不能动了 (整个画面死锁)！请问鸟哥该如何处置？
- $ 答：参考一下 stty -a 的输出中，有个 stop 的项目就是按下 [crtl]+s 的！那么恢复成 start 就是 [crtl]+q 啊！因此，尝试按下 [crtl]+q 应该就可以让整个画面重新恢复正常咯！
# `set`
除了 stty 之外，其实我们的 bash 还有自己的一些终端机设定值呢！那就是利用 set 来设定的！我们之前提到一些变量时，可以利用 set 来显示，除此之外，其实 set 还可以帮我们设定整个指令输出/输入的环境。例如记录历史命令、显示错误内容等等。
```shell
[dmtsai@study ~]$ set [-uvCHhmBx]
选项与参数：
-u ：预设不启用。若启用后，当使用未设定变量时，会显示错误讯息；
-v ：预设不启用。若启用后，在讯息被输出前，会先显示讯息的原始内容；
-x ：预设不启用。若启用后，在指令被执行前，会显示指令内容(前面有 ++ 符号)
-h ：预设启用。与历史命令有关；
-H ：预设启用。与历史命令有关；
-m ：预设启用。与工作管理有关；
-B ：预设启用。与刮号 [] 的作用有关；
-C ：预设不启用。若使用 > 等，则若文件存在时，该文件不会被覆盖。

范例一：显示目前所有的 set 设定值
[dmtsai@study ~]$ echo $himBH
# 那个 $- 变量内容就是 set 的所有设定啦！ bash 预设是 himBH 喔！

范例二：设定 "若使用未定义变量时，则显示错误讯息"
[dmtsai@study ~]$ set -u
[dmtsai@study ~]$ echo $vbirding
-bash: vbirding: unbound variable
# 预设情况下，未设定/未宣告 的变量都会是『空的』，不过，若设定 -u 参数，
# 那么当使用未设定的变量时，就会有问题啦！很多的 shell 都预设启用 -u 参数。
# 若要取消这个参数，输入 set +u 即可！

范例三：执行前，显示该指令内容。
[dmtsai@study ~]$ set -x
++ printf '\033]0;%s@%s:%s\007' dmtsai study '~' # 这个是在列出提示字符的句柄！
[dmtsai@study ~]$ echo ${HOME}
+ echo /home/dmtsai
/home/dmtsai
++ printf '\033]0;%s@%s:%s\007' dmtsai study '~'
# 看见否？要输出的指令都会先被打印到屏幕上喔！前面会多出 + 的符号！
```
# 其它的按键设定功能
我们还有其他的按键设定功能，就是在前一小节提到的 `/etc/inputrc` 这个文件里面设定。还有例如 `/etc/DIR_COLORS*` 与 /usr/share/terminfo/* 等，也都是与终端机有关的环境配置文件案呢！
不过，事实上，鸟哥并不建议修改 tty 的环境，因为 bash 的环境已经设定的很亲和，我们不需要额外的设定或者修改，否则反而会产生一些困扰。
bash 默认的组合键给他汇整如下：

| 组合按键     | 执行结果                  |
| -------- | --------------------- |
| Ctrl + C | 终止目前的命令               |
| Ctrl + D | 输入结束 (EOF)，例如邮件结束的时候； |
| Ctrl + M | 就是 Enter 啦！           |
| Ctrl + S | 暂停屏幕的输出               |
| Ctrl + Q | 恢复屏幕的输出               |
| Ctrl + U | 在提示字符下，将整列命令删除        |
| Ctrl + Z | 『暂停』目前的命令             |
