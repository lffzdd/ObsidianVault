# 不定循环
## `while do done`: 直到不满足条件才结束
```shell
while [ condition ] <==中括号内的状态就是判断式
do <==do 是循环的开始！
	程序段落
done <==done 是循环的结束
# 范例
s=0 # 这是加总的数值变数
i=0 # 这是累计的数值，亦即是 1, 2, 3….
while [ "${i}" != "100" ]
do
i=$(($i+1)) # 每次 i 都会增加 1
s=$(($s+$i)) # 每次都会加总一次！
done
echo "The result of '1+2+3+…+100' is ==> $
```
## `until do done`: 直到满足条件才结束
 ```shell
 until [ condition ]
 do
 	程序段落
 done
 ```
# 固定循环
## `for in do done`
```shell
for var in con1 con2 con3 …
do
	程序段
done
以上面的例子来说，这个 $var 的变量内容在循环工作时：
1. 第一次循环时， $var 的内容为 con1 ；
2. 第二次循环时， $var 的内容为 con2 ；
3. 第三次循环时， $var 的内容为 con3 ；
```
系统上面的各种账号都是写在 /etc/passwd 内的第一个字段，透过管线命令的 cut 捉出账号名称后，以 id 分别检查使用者的标识符与特殊参数
```shell
users=$(cut -d ':' -f1 /etc/passwd) # 撷取账号名称
for username in ${users} # 开始循环进行！
do
	id ${username}
done
```
利用 ping这个可以判断网络状态的指令，来进行网络状态的实际侦测时，我想要侦测的网域是本机所在的192.168.1.1~192.168.1.100
```shell
network="192.168.1" # 先定义一个网域的前面部分！
for sitenu in $(seq 1 100) # seq 为 sequence(连续) 的缩写之意
do
	# 底下的程序在取得 ping 的回传值是正确的还是失败的！
	ping -c 1 -w 1 ${network}.${sitenu} &> /dev/null && result=0 || result=1
	# 开始显示结果是正确的启动 (UP) 还是错误的没有连通 (DOWN)
	if [ "${result}" == 0 ]; then
		echo "Server ${network}.${sitenu} is UP."
	else
		echo "Server ${network}.${sitenu} is DOWN."
	fi
done
```
```ad-seealso
title: 网段的划分
collapse: closed
在计算机网络中，网段（Subnet）指的是网络中设备的一个分组，分段通常基于 IP 地址的子网掩码进行划分。在设计和管理网络时，选择正确的网段是至关重要的，它直接影响网络的结构、性能和安全性。
### 常见的网段划分区域
1. **公共IP地址与私有IP地址**：
   - **公网IP地址**是可在互联网上路由的IP地址。
   - **私有IP地址**是专用的网络地址，不会在互联网上路由。这些地址用于家庭网络和企业内部网络。私有IP地址范围包括：
     - `10.0.0.0` 至 `10.255.255.255`（10.0.0.0/8）
     - `172.16.0.0` 至 `172.31.255.255`（172.16.0.0/12）
     - `192.168.0.0` 至 `192.168.255.255`（192.168.0.0/16）
2. **子网划分**：
   - 根据网络规模和需求，通过子网掩码将IP地址划分为多个子网。每个子网可以根据需要分配给特定的部门、设备或服务。
   - 子网掩码定义了网络部分和主机部分的区分。常见的子网掩码有：
     - `255.255.255.0`（/24）：用于最多256个设备的网络。
     - `255.255.255.128`（/25）：用于最多128个设备的网络。
     - `255.255.0.0`（/16）：用于最多65536个设备的网络。
3. **划分方法**：
   - **静态划分**：管理员手动划分各个网段，适合较小或需求明确的网络。
   - **动态划分**：使用 DHCP（动态主机配置协议）自动分配IP地址，适合较大或流动性较大的网络。
4. **CIDR（无类域间路由）**：
   - 使用 CIDR，可以对 IP 地址进行更灵活的分配。CIDR 表示法使用斜杠后接网络部分的位数，例如 `192.168.0.0/24`，表示该网络可以容纳256个地址。
5. **不同层级的网络划分**：
   - 大型网络可能会进一步划分为区域（Region）和子区域（Subregion），以管理网络流量和安全性。这样的划分可以基于业务需求、地理位置、部门分布等因素。
### 总结
网段的分配区域取决于网络的规模、需求以及管理策略。合理的网段划分可以提高网络的工作效率、可管理性和安全性。在进行网段划分时，考虑公网和私网地址的使用，以及针对特定场景的自定义需求非常重要。
```
输入某个目录文件名， 然后找出某目录内的文件的权限
```shell
# 1. 先看看这个目录是否存在啊？
read -p "Please input a directory: " dir
if [ "${dir}" == "" -o ! -d "${dir}" ]; then
	echo "The ${dir} is NOT exist in your system."
	exit 1
fi
# 2. 开始测试文件啰～
filelist=$(ls ${dir}) # 列出所有在该目录下的文件名
for filename in ${filelist}
do
	perm=""
	test -r "${dir}/${filename}" && perm="${perm} readable"
	test -w "${dir}/${filename}" && perm="${perm} writable"
	test -x "${dir}/${filename}" && perm="${perm} executable"
	echo "The file ${dir}/${filename}'s permission is ${perm} "
done
```
## `for(()) do done`
```shell
for (( 初始值; 限制值; 执行步阶 ))
do
	程序段
done
```
计算 1 到 100
```shell
read -p "Please input a number, I will count for 1+2+…+your_input: " nu
s=0
for (( i=1; i<=${nu}; i=i+1 ))
do
	s=$((${s}+${i}))
done
echo "The result of '1+2+3+…+${nu}' is ==> ${s}"
```