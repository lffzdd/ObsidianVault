---
aliases: 2.2-磁盘分区
tags: []
date created: Saturday, August 10th 2024, 4:27:24 pm
date modified: Saturday, August 10th 2024, 7:46:24 pm
---
# `MBR`+`partition`
早期的 Linux 系统为了兼容于 Windows 的磁盘，因此使用的是支持 Windows 的 MBR(Master Boot Record, 主要开机纪录区) 的方式来处理开机管理程序与分区表！而开机管理程序纪录区与分区表则通通放在磁盘的第一个扇区，这个扇区通常是 512bytes 的大小 (旧的磁盘扇区都是 512bytes 喔！)，所以说，第一个扇区 512bytes 会有这两个数据：
- 主要启动记录区 (Master Boot Record, MBR)：可以安装开机管理程序的地方，有 446 bytes
- 分区表 (partition table)：记录整颗硬盘分区的状态，有 64 byte
![[Pasted image 20240810194153.png]]
![[Pasted image 20240810194232.png]]
---
# `GPT`
GUID partition table, GPT 磁盘分区表
因为过去一个扇区大小就是 512bytes 而已，不过目前已经有 4K 的扇区设计出现！为了兼容于所有的磁盘，因此在扇区的定义上面，大多会使用所谓的逻辑区块地址 (Logical Block Address, LBA) 来处理。GPT 将磁盘所有区块以此 LBA(预设为 512bytes 喔！) 来规划，而第一个 LBA 称为 LBA0 (从 0 开始编号)。
与 MBR 仅使用第一个 512bytes 区块来纪录不同， GPT 使用了 34 个 LBA 区块来纪录分区信息！同时与过去 MBR 仅有一的区块，被干掉就死光光的情况不同， GPT 除了前面 34 个 LBA 之外，整个磁盘的最后 33 个 LBA 也拿来作为另一个备份！这样或许会比较安全些吧！详细的结构有点像底下的模样 (注 1)
![[Pasted image 20240810194656.png]]

![[Pasted image 20240810195713.png]]