>[【官方双语】医检阳性≠得了病？重新理解贝叶斯定理\_哔哩哔哩\_bilibili](https://www.bilibili.com/video/BV1Ei4y1F72M/?spm_id_from=333.999.0.0&vd_source=56499cc54ebd02db0ac739e485d74801)

# 把概率看成比率
![[Pasted image 20240713120331.png]]
开始有先验概率 $P(H)$，从比率的角度看有 
$$P(H)=\frac{患病人数}{所有人数}\longleftrightarrows患病人数:健康人数$$
灵敏度为 $P(E|H)$，特异度为 $P(E|\neg H)$
当你检测出患病后，要么是左边真患病的，要么是右边假患病的
写成数学公式为
$$
\begin{align}
&(患病人数:健康人数)\times\frac{P(E|H)}{P(E|\neg H)}\\
=&[患病人数\times\frac{P(E|H)}{P(E|\neg H)}]:健康人数\\
=&真患病:假患病\\
\leftrightarrows&\frac{真患病}{真患病+假患病}=检测阳性后患病率
\end{align}
$$
![[Pasted image 20240713142049.png]]

```ad-lem
title: 推论
collapse: closed

从公式计算上看，当 $P(H)$ 很小时，$P(\neg H)$ 接近 $1$，有
$$
\begin{align}
&P(H) \times\frac{P(E|H)}{P(E|\neg H)}\\
=&\frac{P(H)}{P(H)+P(\neg H)} \times\frac{P(E|H)}{P(E|\neg H)}\\
\approx&\frac{P(H)}{P(\neg H)} \times\frac{P(E|H)}{P(E|\neg H)}\\
\end{align}
$$
```
上面推出了检测阳性后的 $真患病:假患病\leftrightarrows患病率$
而检测阳性后患病的几率为 $P(H|E)$
由贝叶斯公式有 
$$
\begin{align}
P(H|E)&=\frac{{P(E|H)\times P(H)}}{P(E)}\\
&=P(H)\times\frac{P(E|H)}{P(E|H)+P(E|\neg H)}\\
&=\frac{患病人数}{所有人数}\times \frac{患病人被检测为患病的概率}{所有人被检测为患病的概率}\\
&=\frac{检测为阳性的患病人数}{检测为阳性的所有人数}\\\\
&即检测为阳性后真正患病的几率
\end{align}
$$
![[Pasted image 20240713164459.png]]
# 比较两个版本的贝叶斯定律
![[Pasted image 20240713164711.png]]
![[Pasted image 20240713165114.png]]
通常的公式，每一次都必须重新计算，==**不能重复利用预先计算好的贝叶斯因子**==
比率另一个方便之处在于，如果你想基于多个证据，进行多个不同的贝叶斯更新——比如说你参加了两次检测而不是一次，或者你想知道症状的存在有多少影响，你看到的每一个新症状，你都会问同一个问题：在患者身上看到这种症状的概率，比在未患病的人上的要高多少？
![[Pasted image 20240713170700.png]]
除了让计算更简单之外，我还非常喜欢在检测精度上，附加一个看着一点都不像概率的数字。我的意思是如果你听说一个检测有 $9\%$ 的假阳性率,那简直是太让人摸不着头脑了吧！很容易被误解成你拿到的阳性结果有 $9\%$ 的几率是错的。但是想象一下，如果我们在检测报告上看到的，是检测为阳性的贝叶斯因子，比如说10，那么贝叶斯因子和你得病概率就无法混淆了。
(因为) 贝叶斯因子基于的理论框架，是建立在贝叶斯因子只作用于在先验上，它让你不得不承认先验概率是一个完全独立的东西，是做出任何结论都不可或缺的一环  
话虽如此，通常的公式肯定还是有优点的，如果你不把它简单地看成是代入数字的东西，而是把它看成是我们常用的样本思想的总体概括，你便可以说这实际上更符合你的直觉。毕竟，我们连计算贝叶斯因子是否有意义，都要不停地回到原始的公式上检查 

- ~ [^1]注意：本集中***贝叶斯因字***和"***似然比***"是互通的但一般情况两者并不互通”
- ~ [1]本集中我们只假设了两种可能结果一一要么得病，要么没得病。而当你想要预估的参数为连续的时候，贝叶斯因子和"似然比"虽有关联，但也有很大差别。它们分别代表了预估参数的不同方法。