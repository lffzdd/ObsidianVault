---
aliases: 2-卷积是什么
tags:
date created: Saturday, November 2nd 2024, 12:28:29 pm
date modified: Tuesday, November 5th 2024, 6:11:01 pm
---
> [【硬核】卷积到底在卷什么？读书卷，工作卷，函数也卷|卷积入门学习|卷积神经网络|信号与系统【喵星考拉】\_哔哩哔哩\_bilibili](https://www.bilibili.com/video/BV1XTyTY4EmJ?spm_id_from=333.788.videopod.sections&vd_source=56499cc54ebd02db0ac739e485d74801)

![[Pasted image 20241102120050.png]]
## 线性时不变系统
![[Pasted image 20241102120121.png]]
- 线性: 指的是这个系统的输入和输出能够进行线性叠加
- 时不变: 指的是系统的输入输出关系不随时间变化
## 冲激函数和冲激响应
![[Pasted image 20241102120331.png]]
```ad-note
collapse: closed
title:这里的空闲岗位数量指的应该是剩余岗位数量

首先，我们来理解题目中的关键信息。

题目描述了一个城市投放岗位的情况，其中每一天都消耗掉当天岗位的60%。我们需要分析为什么方程 $y[n] - 0.4y[n-1] = 0$ 被描述为空闲岗位数量的方程。

1. **定义变量**：

* $y[n]$：表示第n天结束时的空闲岗位数量。
* $y[n-1]$：表示第n-1天结束时的空闲岗位数量。
2. **理解消耗**：

* 每一天都消耗掉当天岗位的60%，这意味着只剩下40%的岗位没有被消耗，即成为了“空闲”的岗位。
3. **建立关系**：

* 如果第n-1天结束时有 $y[n-1]$ 个空闲岗位，那么到了第n天开始时，这些岗位仍然存在，并且城市可能会投放新的岗位（但题目没有明确指出每天投放多少新岗位，所以我们先不考虑新投放的情况）。
* 但是，到了第n天结束时，由于消耗了60%的岗位（包括第n-1天留下的和可能新投放的），所以第n天结束时的空闲岗位数量是 $y[n-1]$ 的40%，即 $0.4y[n-1]$（这里我们假设没有新岗位投放，所以只考虑消耗）。
4. **分析方程**：

* 方程 $y[n] - 0.4y[n-1] = 0$ 可以转化为 $y[n] = 0.4y[n-1]$。
* 这意味着第n天结束时的空闲岗位数量等于第n-1天结束时的空闲岗位数量的40%。
* 这与我们的理解是一致的：每一天都消耗掉60%的岗位，所以剩下40%的岗位成为空闲岗位。
5. **注意**：

* 如果题目中涉及到每天新投放的岗位数量，那么方程会变得更加复杂。
* 在这个特定的问题中，我们假设没有新岗位投放，只考虑岗位的消耗。

综上所述，方程 $y[n] - 0.4y[n-1] = 0$ 描述的是在没有新岗位投放的情况下，每一天空闲岗位数量与前一天空闲岗位数量之间的关系。由于每一天都消耗掉60%的岗位，所以剩下的40%就是空闲岗位数量。
```
![[Pasted image 20241102121344.png]]
这里新投放的岗位在当天不会被消耗, 因为 $y[n]-0.4y[n-1]=y[晚]-0.4y[早]$
这里的冲激响应就是 $h[n]=y[n]$
```ad-thm
title: 冲激响应
collapse: closed
图中给出的方程 $y[n] - 0.4y[n-1] = x[n]$ 描述了一个离散线性系统的动态行为，其中 $x[n]$ 是输入信号（在这个场景下可以理解为每天投放的岗位数量），$y[n]$ 是输出信号（可以理解为每天剩余的岗位数量）。这个方程是一个差分方程，它表达了当前输出 $y[n]$ 与前一时刻输出 $y[n-1]$ 和当前输入 $x[n]$ 之间的关系。

现在，让我们来详细解释这个方程和冲激响应：

1. **差分方程解释**：

   - $y[n]$：表示第 $n$ 天结束时的剩余岗位数量。
   - $0.4y[n-1]$：表示第 $n-1$ 天结束时的剩余岗位数量在第 $n$ 天仍然存在的部分（即没有被消耗掉的部分，假设每天消耗60%，则剩余40%）。
   - $x[n]$：表示第 $n$ 天新投放的岗位数量。

   因此，方程 $y[n] - 0.4y[n-1] = x[n]$ 可以理解为：第 $n$ 天结束时的剩余岗位数量等于第 $n-1$ 天剩余岗位数量的40%加上第 $n$ 天新投放的岗位数量。

2. **冲激响应**：

   冲激响应是系统对单位冲激输入信号的响应。在离散时间系统中，单位冲激输入信号通常定义为 $\delta[n]$，它在 $n=0$ 时为1，在其他时刻为0。

   对于给定的差分方程 $y[n] - 0.4y[n-1] = x[n]$，如果我们用单位冲激信号 $\delta[n]$ 作为输入 $x[n]$，那么系统的冲激响应 $h[n]$ 就是输出 $y[n]$。

   - 当 $n=0$ 时，$x[0] = \delta[0] = 1$，所以 $y[0] - 0.4y[-1] = 1$。由于 $y[-1]$ 在 $n=0$ 之前，我们可以假设它为0（或者根据系统的初始条件来确定）。因此，$y[0] = 1$。
   - 当 $n>0$ 时，由于 $\delta[n] = 0$（对于 $n \neq 0$），所以 $x[n] = 0$。因此，差分方程变为 $y[n] - 0.4y[n-1] = 0$，即 $y[n] = 0.4y[n-1]$。

   这样，我们就得到了系统的冲激响应 $h[n]$，它是一个无限递减的序列，初始值为1，之后每一步都乘以0.4。这个冲激响应描述了系统对单位冲激输入的动态响应。

总结来说，差分方程 $y[n] - 0.4y[n-1] = x[n]$ 描述了系统的动态行为，而冲激响应则是系统对单位冲激输入的响应，它可以通过将单位冲激信号作为输入信号代入差分方程来求解。

```
## 把新的输入理解成是冲激函数的移位线性组合
![[Pasted image 20241102122529.png]]
![[Pasted image 20241102122541.png]]
更好的办法是用线性时不变系统的特性去解方程
输入冲激函数的时候系统会输出冲激响应
**把新的输入理解成是冲激函数的移位线性组合**
![[Pasted image 20241105124855.png]]
![[Pasted image 20241105130721.png]]
同时我们还可以用更通用的方式描述这个现象
![[Pasted image 20241105131130.png]]
# 离散卷积
![[Pasted image 20241105131159.png]]
![[Pasted image 20241105131850.png]]
这就是离散状态下的卷积公式, 为了表述方便, 使用 $*$ 代表卷积
![[Pasted image 20241105132843.png]]
![[Pasted image 20241105171323.png]]
$\delta[n]$ 是在 $n=0$ 时取值为 $1$, 那么把 $x[0]$ 乘上 $\delta[n]$,就会把原函数中 $n=0$ 的部分提取出来
![[Pasted image 20241105171701.png]]
![[Pasted image 20241105171732.png]]
![[Pasted image 20241105171837.png]]
![[Pasted image 20241105171917.png]]
![[Pasted image 20241105172039.png]]
# 连续时间上的冲激函数
![[Pasted image 20241105172408.png]]
## 冲激信号代表冲量
![[Pasted image 20241105172616.png]]
 
```ad-info
title: 冲激响应的推导
collapse: closed

图中的内容解释了在连续时间系统中，如何推导和计算冲击响应。

### 冲击函数的定义

1. **冲激函数 $\delta(t)$**：
   - 表示一种理想化的瞬时脉冲，其积分为1。
   - 表达的是瞬时单位冲量对系统的影响。

2. **冲量的计算**：
   - 通过动力定理，冲量$\Delta I = \int_{0}^{t_0} f(t) \, dt = mv_t - mv_0$，对应动量的变化。
   - 在瞬时区间，$\Delta I = \int_{0^-}^{0^+} \delta(t) \, dt = 1$，冲击信号定义为单位冲量。

### 冲击响应的推导

1. **系统模型**：
   - 包含弹簧（刚度 $K$）、质量块（质量 $M$）和阻尼器（阻尼系数 $B$）的典型二阶线性系统。
   - 系统的微分方程：$Mx''(t) + Bx'(t) + Kx(t) = f(t)$。

2. **初始条件**：
   - 由于作用瞬时，系统位置不变，所以 $x(0) = 0$，速度瞬时增大 $x'(0) = v(0) = 1$。

3. **求解冲击响应**：
   - 将冲激函数作为输入 $f(t) = \delta(t)$，代入微分方程。
   - 根据初始条件求解方程，得到系统在冲击下的响应。

### 冲击响应分析

图中展示了不同阻尼条件下的冲激响应：

1. **两个实根（过阻尼）**：
   - 系统逐渐趋于稳定，没有振荡。

2. **重根（临界阻尼）**：
   - 系统快速返回平衡，没有振荡。

3. **共轭复数根（欠阻尼）**：
   - 系统出现振荡，振幅逐渐衰减。

### 阻尼的影响

1. **阻尼系数 $B$**：
   - 阻尼越小，系统越容易振荡，可能造成较大振荡。
   - 不同阻尼条件下，系统的响应特性会有明显不同。

通过上述分析，可以理解如何计算冲击响应，并将其应用到实际的物理系统中。

```

![[Pasted image 20241105175513.png]]
![[Pasted image 20241105181430.png]]
![[Pasted image 20241105181508.png]]
我们把这些力都输入到刚才的 MKB 系统中

---
# 卷积的应用
![[Pasted image 20241108205735.png]]
## 声音降噪
![[Pasted image 20241108210002.png]]
声音信号变得平滑, 但同时也会损失更多细节
## 图像处理
![[Pasted image 20241108210137.png]]
提取边缘, 也就是实现锐化
![[Pasted image 20241108210347.png]]
不过是中间的值差了 1, 不过可以想象, 倘若九个色素颜色一样, 轮廓提取卷积核会让像素变为 0, 而中间的值+1 变为 9, 就可以保留原来的颜色
![[Pasted image 20241108210536.png]]
卷积其实可以起到特征识别和匹配的作用,比如这里有一个像素画的数字图像,如果我们用1做卷积内核和原图做卷积,会发现途中出现一个亮点,点越亮,代表这里是1的可能性越大, 2,3,4,5 亦如此
![[Pasted image 20241108210740.png]]